!function(t){t.module("azGeocoder",[])}(angular),function(){"use strict";function t(t,e){function r(t){return t}function o(t){return t}function n(){throw"Abstract. Each Geocoder implementation must have a postprocessor function"}function s(t){if(this.options=angular.extend({},a,t),!this.options.url)throw"Geocoder url required"}var a={key:null,url:null,textParam:"text",optionsPreprocessors:[r],addressPreprocessors:[o],postprocessors:[n]};return s.prototype.geocode=function(t,e,r){var o=this,n=t;angular.forEach(this.options.addressPreprocessors,function(t){n=t.call(o,n)});var s=angular.extend({},e,r);return angular.forEach(this.options.optionsPreprocessors,function(t){angular.extend(s,t.call(o,s))}),s[this.options.textParam]=n,this._request(n,s)},s.prototype._request=function(r,o){var n=e.defer(),s=this;return t.get(this.options.url,{params:o}).then(function(t){n.resolve(s._successCallback(t))}).catch(function(t){n.reject(t)}),n.promise},s.prototype._successCallback=function(t){var e=this;return angular.forEach(this.options.postprocessors,function(r){t=r.call(e,t)}),t},s}angular.module("azGeocoder").factory("BaseGeocoder",t)}(),function(){"use strict";function t(){var t={};return t}angular.module("azGeocoder").service("Geocoder",t)}(),function(){"use strict";function t(t){function e(t){var e={f:t.format||"json",bbox:t.extent?t.extent.join(","):null,location:t.origin?t.origin.join(","):null,distance:t.distance||null,maxLocations:t.limit||null};return e}function r(t){return t&&t.data&&t.data.locations?t.data.locations:[]}function o(t){var e=[];return angular.forEach(t,function(t){var r={name:t.name,extent:t.extent||null,geometry:t.feature.geometry||null,score:t.feature.attributes?t.feature.attributes.Score:null,type:t.feature.attributes?t.feature.attributes.Addr_Type:null};e.push(r)}),e}var n={url:"http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",optionsPreprocessors:[e],postprocessors:[r,o]},s=new t(n);return s}angular.module("azGeocoder").service("ESRIGeocoder",t)}();