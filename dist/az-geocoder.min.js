!function(e){e.module("azGeocoder",[])}(angular),function(){"use strict";function e(e,t){function o(e){return e}function r(e){return e}function n(){throw"Abstract. Each Geocoder implementation must have a postprocessor function"}function s(){}var a={key:null,url:null,textParam:"text",optionsPreprocessors:[o],addressPreprocessors:[r],postprocessors:[n]};return s.prototype.setOptions=function(e){if(this.options=angular.extend({},a,e),!this.options.url)throw"Geocoder url required"},s.prototype.geocode=function(e,t,o){var r=this,n=e;angular.forEach(this.options.addressPreprocessors,function(e){n=e.call(r,n)});var s=angular.extend({},t,o);return angular.forEach(this.options.optionsPreprocessors,function(e){angular.extend(s,e.call(r,s))}),s[this.options.textParam]=n,this._request(n,s)},s.prototype._request=function(o,r){var n=t.defer(),s=this;return e.get(this.options.url,{params:r}).then(function(e){n.resolve(s._successCallback(e))}).catch(function(e){n.reject(e)}),n.promise},s.prototype._successCallback=function(e){var t=this;return angular.forEach(this.options.postprocessors,function(o){e=o.call(t,e)}),e},s}angular.module("azGeocoder").factory("BaseGeocoder",e)}(),function(){"use strict";function e(){var e={};return e}angular.module("azGeocoder").service("Geocoder",e)}(),function(){"use strict";function e(e){function t(e){var t={f:e.format||"json",bbox:e.extent?e.extent.join(","):null,location:e.origin?e.origin.join(","):null,distance:e.distance||null,maxLocations:e.limit||null};return t}function o(e){return e&&e.data&&e.data.locations?e.data.locations:[]}function r(e){var t=[];return angular.forEach(e,function(e){var o={name:e.name,extent:e.extent||null,geometry:e.feature.geometry||null,score:e.feature.attributes?e.feature.attributes.Score:null,type:e.feature.attributes?e.feature.attributes.Addr_Type:null};t.push(o)}),t}var n={url:"http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",optionsPreprocessors:[t],postprocessors:[o,r]},s=new e;return s.setOptions(n),s}angular.module("azGeocoder").service("ESRIGeocoder",e)}(),function(){"use strict";function e(e,t,o){function r(e){var t={f:e.format||"json",bbox:e.extent?e.extent.join(","):null,location:e.origin?e.origin.join(","):null,distance:e.distance||null,maxLocations:e.limit||null};return t}function n(e){var t=[];return angular.forEach(e,function(e){var o={name:e.name,extent:e.extent||null,geometry:e.feature.geometry||null,score:e.feature.attributes?e.feature.attributes.Score:null,type:e.feature.attributes?e.feature.attributes.Addr_Type:null};t.push(o)}),t}function s(){}if(!(google&&google.maps&&google.maps.Geocoder))return e.error("GoogleGeocoder requires the google maps javascript v3 API!"),{};var a={url:"https://developers.google.com/maps/documentation/javascript/reference#Geocoder",textField:"address",optionsPreprocessors:[r],postprocessors:[n]},u=new google.maps.Geocoder;s.prototype=o,s.prototype._request=function(e,o){var r=t.defer(),n=angular.extend({},o,{address:e});return u.geocode(n,function(e){e=this._successCallback(e),r.resolve(e)}),r.promise};var c=new s;return c.setOptions(a),c}angular.module("azGeocoder").service("GoogleGeocoder",e)}();